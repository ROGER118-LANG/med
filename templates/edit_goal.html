<!-- templates/edit_goal.html - Editar meta financeira -->
{% extends "layout.html" %}
{% block title %}Editar Meta{% endblock %}
{% block content %}
<div class="container mx-auto">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold">Editar Meta Financeira</h1>
        <a href="{{ url_for('goals') }}" class="text-indigo-600 hover:underline">
            <i class="fas fa-arrow-left mr-1"></i> Voltar
        </a>
    </div>

    <div class="card max-w-lg mx-auto">
        <form method="POST" action="{{ url_for('edit_goal', id=goal.id) }}">
            <div class="mb-4">
                <label for="name" class="form-label">Nome da Meta</label>
                <input type="text" id="name" name="name" class="form-control" value="{{ goal.name }}" required>
            </div>

            <div class="mb-4">
                <label for="target_amount" class="form-label">Valor Alvo (R$)</label>
                <input type="number" id="target_amount" name="target_amount" step="0.01" class="form-control" value="{{ goal.target_amount }}" required>
            </div>

            <div class="mb-4">
                <label for="current_amount" class="form-label">Valor Atual (R$)</label>
                <input type="number" id="current_amount" name="current_amount" step="0.01" class="form-control" value="{{ goal.current_amount }}">
            </div>

            <div class="mb-6">
                <label for="deadline" class="form-label">Prazo (opcional)</label>
                <input type="date" id="deadline" name="deadline" class="form-control" value="{{ goal.deadline.strftime('%Y-%m-%d') if goal.deadline else '' }}">
            </div>

            <div class="flex justify-between">
                <a href="{{ url_for('delete_goal', id=goal.id) }}" class="btn-danger" onclick="return confirm('Tem certeza que deseja excluir esta meta?')">
                    <i class="fas fa-trash mr-1"></i> Excluir
                </a>
                <button type="submit" class="btn-primary">Salvar Alterações</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}